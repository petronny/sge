'\" t
.\"___INFO__MARK_BEGIN__
.\"
.\" Copyright: 2004 by Sun Microsystems, Inc.
.\"
.\"___INFO__MARK_END__
.\"
.\" $RCSfile: qacct.1,v $     Last Update: $Date: 2011-05-20 22:53:27 $     Revision: $Revision: 1.17 $
.\"
.\"
.\" Some handy macro definitions [from Tom Christensen's man(1) manual page].
.\"
.de SB		\" small and bold
.if !"\\$1"" \\s-2\\fB\&\\$1\\s0\\fR\\$2 \\$3 \\$4 \\$5
..
.\" "
.de T		\" switch to typewriter font
.ft CW		\" probably want CW if you don't have TA font
..
.\"
.de TY		\" put $1 in typewriter font
.if t .T
.if n ``\c
\\$1\c
.if t .ft P
.if n \&''\c
\\$2
..
.\"
.de M		\" man page reference
\\fI\\$1\\fR\\|(\\$2)\\$3
..
.TH QACCT 1 "$Date: 2011-05-20 22:53:27 $" "SGE 8.0.0" "Grid Engine User Commands"
.SH NAME
qacct \- report and account for Grid Engine usage
.SH SYNOPSIS
.B qacct
.RB [ \-ar
.IR ar_id ] 
.RB [ \-A
.IR Account ]
.RB [ \-b
.IR BeginTime ]
.RB [ \-d
.IR Days ]
.RB [ \-e
.IR EndTime ]
.RB [ \-g 
.IR GroupId | GroupName ]
.RB [ \-h
.IR HostName ]
.RB [ \-help ]
.RB [ \-j
.IR job_id | job_name | pattern ]
.RB [ \-l
.IR attr = val ,...]
.RB [ \-o
.IR Owner ]
.RB [ \-pe
.IR PEname ]
.RB [ \-q
.IR wc_queue ]
.RB [ \-slots
.IR SlotNumber ]
.RB [ \-t
.IR task_id_range_list ]
.RB [ \-P
.IR Project ]
.RB [ \-D
.IR Department ]
.RB [ \-f
.IR AcctFileName ]
.\"
.\"
.SH DESCRIPTION
The
.I qacct
utility scans the accounting data file (see
.M accounting 5 )
and produces a summary
of information for wall-clock time, CPU time, and system time
for the categories of host name, queue name, group name,
owner name, job name, job ID, and for the queues meeting the resource
requirements as specified with the \fB\-l\fP switch.
Combinations of each category are permitted. Alternatively, all
or specific jobs can be listed with the \fB\-j\fP switch.
For example the
search criteria could include summarizing for a queue and an
owner, but not for two queues in the same request.
.\"
.\"
.SH OPTIONS
.IP "\fB\-ar\fP [\fBar_id\fP]"
The ID of the advance reservation for which usage is summarized.
If \fBar_id\fP is not given, accounting data are
listed for each advance reservation separately.
.\"
.IP "\fB\-A Account\fP"
The account for jobs to be summarized. 
.\"
.IP "\fB\-b BeginTime\fP"
The earliest start time for jobs to be summarized, in the format
[[CC]YY]MMDDhhmm[.SS]. See also the \fB\-d\fP option. If CC is not
specified, a YY of < 70 means 20YY.
.\"
.IP "\fB\-d Days\fP"
The number of days for which to summarize and print accounting information. If
used together with the \fB\-b \fIBeginTime\fP option (see above), jobs
started within \fBBeginTime\fP to \fBBeginTime\fP + \fBDays\fP are
counted. If used together with \fB\-e \fIEndTime\fP (see below)
option, count starts at \fBEndTime\fP \- \fBDays\fP.
.\"
.IP "\fB\-e EndTime\fP"
The latest start time for jobs to be summarized, in the format
[[CC]YY]MMDDhhmm[.SS]. See also \fB\-d\fP option. If CC is not
specified, a YY of < 70 means 20YY.
.\"
.IP "[\fB\-f\fP \fBAcctFileName\fP]"
The accounting file to be used. If omitted, the system
default accounting file is processed.
.\"
.IP "\fB\-g\fP [\fBGroupId\fP|\fBGroupName\fP]"
The numeric system group id or the group alphanumeric name of the
job owners to be included
in the accounting. If \fBGroupId\fP/\fBGroupName\fP is omitted, all
groups are accounted.
.\"
.IP "\fB\-h\fP [\fBHostName\fP]"
The case-insensitive name of the host upon which accounting
information is requested. If the name is omitted, totals for each host are
listed separately.
.\"
.IP "\fB\-help\fP"
Display help information for the
.I qacct
command.
.\"
.IP "\fB\-j\fP [\fBjob_id|job_name|pattern\fP]"
The name, an expression for matching names, or ID of the job during execution 
for which accounting information is printed. If neither a name nor an ID 
is given, all jobs are listed.
.br
This option changes the output format of
\fIqacct\fP. If activated, CPU times are no longer accumulated but the
"raw" accounting information is printed in a formatted form instead.
See
.M accounting 5
for an explanation of the displayed information.
.\"
.IP "\fB\-l attr=val,...\fP"
A resource requirement specification which must be met by the queues
in which the jobs being accounted were executing. The resource request 
is very similar to the one described in
.M qsub 1 .
.\"
.IP "\fB\-o\fP [\fBOwner\fP]"
The name of the owner of the jobs for which accounting statistics
are assembled. If the optional \fBOwner\fP argument is omitted,
a listing of the accounting statistics of all job owners
present in the accounting file is produced.
.\"
.IP "\fB\-pe\fP [\fBPEname\fP]"
The name of the parallel environment for which usage is summarized.
If \fBPEname\fP is not given, accounting data are
listed for each parallel environment separately.
.\"
.IP "\fB\-q\fP [\fBwc_queue_name\fP]"
An expression for queues for which usage is summarized. All
queue instances matching the expression will be listed. If
no expression is specified, a cluster queue summary will be 
given.
.\"
.IP "\fB\-slots\fP [\fBSlotNumber\fP]"
The number of queue slots for which usage is summarized.
If \fBSlotNumber\fP is not given, accounting data are
listed for each number of queue slots separately.
.\"
.IP "\fB\-t task_id_range_list\fP"
Only available together with the \fB\-j\fP option described above.
.sp 1
The \fB\-t\fP switch specifies the array job task range, for which
accounting information should be printed. Syntax and semantics of
\fBtask_id_range_list\fP are identical to that one described under the
\fB\-t\fP option to
.M qsub 1 .
Please see there also for further information on array jobs.
.\"
.IP "\fB\-P\fP [\fBProject\fP"
The name of the project for which usage is summarized.
If \fBProject\fP is not given, accounting data are
listed for each relevant project separately.
.\"
.IP "\fB\-D\fP [\fBDepartment\fP]"
The name of the department for which usage is summarized.
If \fBDepartment\fP is not given, accounting data are
listed for each relevant department separately.
.\"
.\"
.SH "ENVIRONMENTAL VARIABLES"
.\" 
.IP "\fBSGE_ROOT\fP" 1.5i
Specifies the location of the Grid Engine standard configuration
files.
.\"
.IP "\fBSGE_CELL\fP" 1.5i
If set, specifies the default Grid Engine cell. To address a Grid Engine
cell
.I qacct
uses (in the order of precedence):
.sp 1
.RS
.RS
The name of the cell specified in the environment 
variable SGE_CELL, if it is set.
.sp 1
The name of the default cell, i.e. \fBdefault\fP.
.sp 1
.RE
.RE
.\"
.IP "\fBSGE_DEBUG_LEVEL\fP" 1.5i
If set, specifies that debug information
should be written to stderr. In addition the level of
detail in which debug information is generated is defined.
.\"
.IP "\fBSGE_QMASTER_PORT\fP" 1.5i
If set, specifies the tcp port on which
.M sge_qmaster 8
is expected to listen for communication requests.
Most installations will use a services map entry for the
service "sge_qmaster" instead to define that port.
.\"
.IP "\fBSGE_EXECD_PORT\fP" 1.5i
If set, specifies the tcp port on which
.M sge_execd 8
is expected to listen for communication requests.
Most installations will use a services map entry for the
service "sge_execd" instead to define that port.
.\"
.\"
.SH FILES
.nf
.ta \w'<sge_root>/     'u
\fI<sge_root>/<cell>/common/accounting\fP
	Grid Engine default accounting file
\fI<xxqs_nam_sexx_root>/<cell>/common/act_qmaster\fP
	Grid Engine master host file
.fi
.\"
.\"
.SH "SEE ALSO"
.M sge_intro 1 ,
.M qsub 1 ,
.M accounting 5 ,
.M sge_qmaster 8 ,
.\"
.\"
.SH "COPYRIGHT"
See
.M sge_intro 1
for a full statement of rights and permissions.
